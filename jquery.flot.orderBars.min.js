/*! SideBySideImproved 2014-04-10 */
!function(a){function b(a){function b(a,b,e){var g=null;if(a.sideBySideSameOrderSeriess?t=a.sideBySideSameOrderSeries:a.sideBySideSameOrderSeries=t,c(b)){u=i(b),d(a);var h=f(r),o=k(h);if(r>=2){var s=j(b),v=0;if(l(s)){var w=h?h:r/2;v=-1*n(q,s,w)-o}else if(m(s)){var x=h?h+2:r/2+1,w=s-1;v=n(q,x,w)+o}else v=-o;p(e,b,v)}else if(1===r){var o=-1*k();p(e,b,o)}}return g}function c(a){return a.bars&&a.bars.show&&a.bars.order}function d(a){q=e(a.getData()),r=q.length}function e(a){for(var b=new Array,c=0;c<a.length;c++)a[c].bars.order&&a[c].bars.show&&b.push(a[c]);return g(b)}function f(a){return a%2===0?!1:Math.floor(a/2)}function g(a){for(var b=a.length,c=0;b>c;c+=1){var d=a[c].bars.order;t[d]||(t[d]=[]),a[c].ssIndex=d,t[d].push(a[c])}var e=[],f=[];for(var g in t){var i=t[g];i.sort(h),f.push(i),e.push(i[0])}for(var c=0;c<e.length;c++)e[c].ssIndex&&(s[e[c].ssIndex]=c);return e}function h(a,b){var c=a.bars.barWidth?a.bars.barWidth:1,d=b.bars.barWidth?b.bars.barWidth:1;return d>c?-1:c>d?1:0}function i(a){return a.bars.horizontal?!0:!1}function j(a){var b=0;if(a.ssIndex)b=s[a.ssIndex];else for(var c=0;c<q.length;++c)if(a===q[c]){b=c;break}return b+1}function k(a){return a?o(q[a])/2:0}function l(a){return a<=Math.floor(r/2)}function m(a){return a>Math.ceil(r/2)}function n(a,b,c){for(var d=0,e=b;c>=e;e++)d+=o(a[e]);return d}function o(a){return a.bars.barWidth}function p(a,b,c){for(var d=a.pointsize,e=a.points,f=0,g=u?1:0;g<e.length;g+=d)e[g]+=c,b.data[f][3]=e[g],f++;return e}var q,r,s=[],t=[],u=!1;a.hooks.processDatapoints.push(b)}var c={series:{bars:{order:null}}};a.plot.plugins.push({init:b,options:c,name:"orderBars",version:"0.2"})}(jQuery);